# Bundle Analyzer UI è®¾è®¡ï¼šå…¥å£çº§åˆ«é€‰æ‹©

## æ ¸å¿ƒé—®é¢˜

åœ¨æ ‘å½¢è§†å›¾ä¸­ï¼Œåº”è¯¥ç”¨ä»€ä¹ˆä½œä¸ºç¬¬ä¸€çº§å…¥å£ï¼Ÿ

**å€™é€‰æ–¹æ¡ˆ**ï¼š
1. Assetsï¼ˆè¾“å‡ºæ–‡ä»¶ï¼‰
2. Chunksï¼ˆä»£ç å—ï¼‰
3. Packagesï¼ˆnpm åŒ…ï¼‰

---

## æ–¹æ¡ˆå¯¹æ¯”

### æ–¹æ¡ˆ Aï¼šAssets ä½œä¸ºç¬¬ä¸€çº§

```
UI ç»“æ„ï¼š
Assets (ç¬¬ä¸€çº§)
  â”œâ”€ main.js
  â”‚    â””â”€ æ¥è‡ª Chunks: ["1"]
  â”‚         â””â”€ å±•å¼€æ˜¾ç¤º Modules
  â”œâ”€ vendor.js
  â”‚    â””â”€ æ¥è‡ª Chunks: ["2"]
  â”‚         â””â”€ å±•å¼€æ˜¾ç¤º Modules
  â””â”€ about.js
       â””â”€ æ¥è‡ª Chunks: ["3"]
            â””â”€ å±•å¼€æ˜¾ç¤º Modules
```

**ä¼˜ç‚¹**ï¼š
- âœ… ç”¨æˆ·æœ€ç›´è§‚ï¼ˆçœ‹åˆ°çš„å°±æ˜¯è¾“å‡ºæ–‡ä»¶ï¼‰
- âœ… ç¬¦åˆé—®é¢˜åœºæ™¯ï¼š"main.js ä¸ºä»€ä¹ˆæœ‰ 2MBï¼Ÿ"
- âœ… å¯¹åº”çœŸå®çš„æ–‡ä»¶ç³»ç»Ÿ

**ç¼ºç‚¹**ï¼š
- âŒ Asset å’Œ Chunk é€šå¸¸ä¸€ä¸€å¯¹åº”ï¼Œè¿™ä¸€å±‚å¯èƒ½å†—ä½™
- âŒ å¦‚æœ 1 ä¸ª Chunk ç”Ÿæˆå¤šä¸ª Assetsï¼Œä¼šæœ‰é‡å¤ä¿¡æ¯
- âŒ éœ€è¦é¢å¤–ç‚¹å‡»ä¸€æ¬¡æ‰èƒ½çœ‹åˆ° Modules

---

### æ–¹æ¡ˆ Bï¼šChunks ä½œä¸ºç¬¬ä¸€çº§ï¼ˆä½ å½“å‰çš„æƒ³æ³•ï¼‰

```
UI ç»“æ„ï¼š
Chunks (ç¬¬ä¸€çº§)
  â”œâ”€ main.chunk
  â”‚    â”œâ”€ Files: main.js, main.css, main.js.map  â† å…³è”çš„ Assets
  â”‚    â””â”€ Modules
  â”‚         â””â”€ Concatenated
  â”œâ”€ vendor.chunk
  â”‚    â”œâ”€ Files: vendor.js
  â”‚    â””â”€ Modules
  â””â”€ about.chunk
       â”œâ”€ Files: about.js
       â””â”€ Modules
```

**ä¼˜ç‚¹**ï¼š
- âœ… ç›´æ¥å±•ç¤ºæ ¸å¿ƒæ•°æ®ï¼ˆChunk åŒ…å«ä»€ä¹ˆï¼‰
- âœ… å‡å°‘ä¸€å±‚åµŒå¥—ï¼Œæ›´å¿«åˆ°è¾¾ Modules
- âœ… Chunk ä¿¡æ¯æ›´å®Œæ•´ï¼ˆentry/initial/async/parents/childrenï¼‰
- âœ… ä¸€ä¸ª Chunk ç”Ÿæˆå¤šä¸ª Assets æ—¶ä¸ä¼šé‡å¤

**ç¼ºç‚¹**ï¼š
- âŒ å¯¹æ–°ç”¨æˆ·ä¸å¤Ÿç›´è§‚ï¼ˆChunk æ˜¯ä»€ä¹ˆï¼Ÿï¼‰
- âŒ éœ€è¦åœ¨ Chunk èŠ‚ç‚¹æ˜¾ç¤ºå…³è”çš„æ–‡ä»¶å

---

### æ–¹æ¡ˆ Cï¼šPackages ä½œä¸ºç¬¬ä¸€çº§

```
UI ç»“æ„ï¼š
Packages (ç¬¬ä¸€çº§)
  â”œâ”€ react (18.2.0)
  â”‚    â””â”€ Modules
  â”‚         â””â”€ å±äºå“ªäº› Chunks
  â”œâ”€ lodash (4.17.21)
  â”‚    â””â”€ Modules
  â””â”€ (your app)
       â””â”€ Modules
```

**ä¼˜ç‚¹**ï¼š
- âœ… é€‚åˆåˆ†æ"å“ªä¸ªåŒ…å ç©ºé—´æœ€å¤§"
- âœ… ç¬¦åˆä¼˜åŒ–åœºæ™¯ï¼ˆæ˜¯å¦åº”è¯¥ç§»é™¤æŸä¸ªåŒ…ï¼‰

**ç¼ºç‚¹**ï¼š
- âŒ ä¸æ˜¯ç”¨æˆ·çš„ç¬¬ä¸€å…³æ³¨ç‚¹
- âŒ æ— æ³•ç›´æ¥çœ‹åˆ°è¾“å‡ºæ–‡ä»¶å¤§å°

---

## å®é™…æƒ…å†µåˆ†æ

### Asset å’Œ Chunk çš„å…³ç³»

è®©æˆ‘ä»¬çœ‹çœ‹çœŸå®é¡¹ç›®ä¸­çš„æƒ…å†µï¼š

#### æƒ…å†µ 1ï¼šä¸€ä¸€å¯¹åº”ï¼ˆæœ€å¸¸è§ï¼‰

```json
{
  "chunks": [
    { "id": "1", "names": ["main"], "files": ["main.js"] }
  ],
  "assets": [
    { "name": "main.js", "chunks": ["1"] }
  ]
}
```

**ç»“è®º**ï¼šAsset è¿™ä¸€å±‚æ˜¯å†—ä½™çš„ï¼Œç›´æ¥ç”¨ Chunk æ›´å¥½ã€‚

#### æƒ…å†µ 2ï¼šä¸€å¯¹å¤šï¼ˆChunk ç”Ÿæˆå¤šä¸ª Assetsï¼‰

```json
{
  "chunks": [
    {
      "id": "1",
      "names": ["main"],
      "files": ["main.js", "main.css", "main.js.map"]
    }
  ],
  "assets": [
    { "name": "main.js", "size": 102400, "chunks": ["1"] },
    { "name": "main.css", "size": 20480, "chunks": ["1"] },
    { "name": "main.js.map", "size": 512000, "chunks": ["1"] }
  ]
}
```

**å¦‚æœç”¨ Asset ä½œä¸ºç¬¬ä¸€çº§**ï¼š
```
Assets
  â”œâ”€ main.js â†’ å±•å¼€ â†’ Chunk 1 â†’ Modules (é‡å¤)
  â”œâ”€ main.css â†’ å±•å¼€ â†’ Chunk 1 â†’ Modules (é‡å¤)
  â””â”€ main.js.map â†’ å±•å¼€ â†’ Chunk 1 â†’ Modules (é‡å¤)

åŒä¸€ä¸ª Chunk çš„ä¿¡æ¯é‡å¤æ˜¾ç¤º 3 æ¬¡ï¼
```

**å¦‚æœç”¨ Chunk ä½œä¸ºç¬¬ä¸€çº§**ï¼š
```
Chunks
  â””â”€ main.chunk
       â”œâ”€ Files: main.js (100KB), main.css (20KB), main.js.map (500KB)
       â””â”€ Modules
            â””â”€ ...

åªæ˜¾ç¤ºä¸€æ¬¡ï¼Œæ›´æ¸…æ™°ï¼
```

#### æƒ…å†µ 3ï¼šå¤šå¯¹ä¸€ï¼ˆå¤šä¸ª Chunks å½±å“ä¸€ä¸ª Assetï¼‰

è¿™ç§æƒ…å†µ**éå¸¸ç½•è§**ï¼Œé€šå¸¸ä¸ä¼šå‡ºç°ã€‚

---

## æ¨èæ–¹æ¡ˆ

### ğŸ¯ æ¨èï¼šChunks ä½œä¸ºç¬¬ä¸€çº§

**ç†ç”±**ï¼š

1. **é¿å…å†—ä½™**
   - å¤§å¤šæ•°æƒ…å†µ 1 Chunk = 1 ä¸» Asset
   - å¦‚æœç”¨ Asset ç¬¬ä¸€çº§ï¼Œåªæ˜¯å¤šäº†ä¸€å±‚é—´æ¥å±‚

2. **ä¿¡æ¯æ›´å®Œæ•´**
   - Chunk åŒ…å«æ›´å¤šå…ƒä¿¡æ¯ï¼šentryã€initialã€asyncã€parentsã€children
   - è¿™äº›ä¿¡æ¯å¯¹åˆ†æå¾ˆæœ‰ä»·å€¼

3. **å¤„ç†å¤š Assets æ›´ä¼˜é›…**
   - 1 ä¸ª Chunk ç”Ÿæˆå¤šä¸ª Assetsï¼ˆJS + CSS + source mapï¼‰æ—¶ä¸ä¼šé‡å¤

4. **æ›´å¿«åˆ°è¾¾æ ¸å¿ƒä¿¡æ¯**
   - ç”¨æˆ·å…³å¿ƒçš„æ˜¯"ä»£ç ç»„æˆ"ï¼Œè€Œä¸æ˜¯"æ–‡ä»¶å"
   - å‡å°‘ä¸€å±‚åµŒå¥—ï¼Œç›´æ¥çœ‹åˆ° Modules

### UI è®¾è®¡

```tsx
// Chunk å¡ç‰‡
<ChunkCard>
  <ChunkHeader>
    <ChunkName>main</ChunkName>
    <ChunkBadges>
      <Badge>Entry</Badge>
      <Badge>Initial</Badge>
    </ChunkBadges>
  </ChunkHeader>

  {/* å…³è”çš„è¾“å‡ºæ–‡ä»¶ */}
  <OutputFiles>
    <File name="main.js" size="100KB" type="JavaScript" />
    <File name="main.css" size="20KB" type="CSS" />
    <File name="main.js.map" size="500KB" type="SourceMap" />
  </OutputFiles>

  {/* ç‚¹å‡»å±•å¼€ Modules */}
  <ExpandButton onClick={() => showModules(chunk.id)}>
    Show Modules ({chunk.modules.length})
  </ExpandButton>
</ChunkCard>
```

**å±•å¼€å**ï¼š

```tsx
<ChunkTree>
  <ChunkHeader {...} />
  <OutputFiles {...} />

  {/* æ¨¡å—åˆ—è¡¨ */}
  <ModuleList>
    <ModuleNode module={...} />
    <ModuleNode module={...}>
      {/* Concatenated å±•å¼€ */}
      <ConcatenatedModules>
        <InnerModule {...} />
        <InnerModule {...} />
      </ConcatenatedModules>
    </ModuleNode>
  </ModuleList>
</ChunkTree>
```

---

## ä½†æ˜¯ï¼ŒAssets ä»ç„¶å¾ˆé‡è¦ï¼

è™½ç„¶ä¸å»ºè®®ä½œä¸ºç¬¬ä¸€çº§ï¼Œä½† Assets ä¿¡æ¯åº”è¯¥ï¼š

### 1. åœ¨ Chunk èŠ‚ç‚¹ä¸­æ˜¾ç¤º

```tsx
<ChunkCard>
  <ChunkInfo>
    <span>Chunk: main</span>
    <span>Size: 120KB</span>
  </ChunkInfo>

  {/* æ˜¾ç¤ºè¾“å‡ºæ–‡ä»¶ */}
  <OutputFiles>
    ğŸ“„ main.js (100KB)
    ğŸ¨ main.css (20KB)
  </OutputFiles>
</ChunkCard>
```

### 2. æä¾›ç‹¬ç«‹çš„ Assets è§†å›¾

```tsx
<TabView>
  <Tab name="Chunks">
    {/* ä¸»è§†å›¾ï¼šChunk â†’ Modules */}
  </Tab>

  <Tab name="Assets">
    {/* è¾…åŠ©è§†å›¾ï¼šAssets åˆ—è¡¨ */}
    <AssetsTable>
      <Asset name="main.js" size={...} type={...} chunks={...} />
      <Asset name="vendor.js" size={...} type={...} chunks={...} />
    </AssetsTable>
  </Tab>

  <Tab name="Packages">
    {/* è¾…åŠ©è§†å›¾ï¼šPackages åˆ†æ */}
  </Tab>
</TabView>
```

### 3. Assets ä½œä¸ºæœç´¢/è¿‡æ»¤å…¥å£

```tsx
<SearchBar>
  <Input placeholder="Search assets, chunks, or modules..." />
</SearchBar>

{/* æœç´¢ "main.js" ä¼šé«˜äº®å¯¹åº”çš„ Chunk */}
```

---

## å®Œæ•´çš„ UI æ¶æ„å»ºè®®

### ä¸»ç•Œé¢ï¼šChunks è§†å›¾ï¼ˆæ ‘å½¢ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Bundle Analyzer                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Chunks] [Assets] [Packages]  â† Tabs  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  ğŸ“¦ main.chunk (Entry, Initial)        â”‚
â”‚     ğŸ“„ main.js (100KB)                 â”‚
â”‚     ğŸ¨ main.css (20KB)                 â”‚
â”‚     â–¶ Show 45 modules                  â”‚
â”‚                                         â”‚
â”‚  ğŸ“¦ vendor.chunk                        â”‚
â”‚     ğŸ“„ vendor.js (200KB)               â”‚
â”‚     â–¶ Show 120 modules                 â”‚
â”‚                                         â”‚
â”‚  ğŸ“¦ about.chunk (Async)                â”‚
â”‚     ğŸ“„ about.js (30KB)                 â”‚
â”‚     â–¶ Show 12 modules                  â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å±•å¼€ Chunk å

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back to Chunks                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“¦ main.chunk                          â”‚
â”‚     Size: 120KB | 45 modules            â”‚
â”‚     Files: main.js, main.css            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  ğŸ“„ ./src/index.js (2KB)               â”‚
â”‚  ğŸ“„ ./src/app.js (5KB)                 â”‚
â”‚  â–¼ ğŸ“„ ./src/utils.js (10KB) Concatenatedâ”‚
â”‚     â”‚  â”œâ”€ ./src/utils/format.js (3KB)  â”‚
â”‚     â”‚  â”œâ”€ ./src/utils/validate.js (4KB)â”‚
â”‚     â”‚  â””â”€ ./src/utils/helper.js (3KB)  â”‚
â”‚  ğŸ“¦ react/index.js (80KB) [Shared]     â”‚
â”‚  ğŸ“„ ./src/components/Header.js (3KB)   â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Assets æ ‡ç­¾é¡µï¼ˆè¾…åŠ©è§†å›¾ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Chunks] [Assets] [Packages]           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  Assets (sorted by size)                â”‚
â”‚                                         â”‚
â”‚  ğŸ“„ vendor.js       200KB  [Chunk: 2]  â”‚
â”‚  ğŸ“„ main.js         100KB  [Chunk: 1]  â”‚
â”‚  ğŸ“„ main.js.map     500KB  [Chunk: 1]  â”‚
â”‚  ğŸ¨ main.css         20KB  [Chunk: 1]  â”‚
â”‚  ğŸ“„ about.js         30KB  [Chunk: 3]  â”‚
â”‚                                         â”‚
â”‚  Total: 850KB                           â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å®é™…æ¡ˆä¾‹ï¼šwebpack-bundle-analyzer çš„åšæ³•

webpack-bundle-analyzer è¡¨é¢ä¸Šçœ‹èµ·æ¥æ˜¯ Assets ç¬¬ä¸€çº§ï¼š

```
UI æ˜¾ç¤º: main.js (100KB)
```

ä½†å®é™…ä¸Šï¼š
1. å®ƒæ˜¾ç¤ºçš„æ˜¯ **Chunk** çš„å†…å®¹
2. åªæ˜¯ç”¨ Asset çš„æ–‡ä»¶åä½œä¸ºæ ‡ç­¾
3. å†…éƒ¨æ˜¯ Chunk â†’ Modules çš„æ ‘å½¢ç»“æ„

**ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ**
- å› ä¸ºå¤§å¤šæ•°æƒ…å†µ 1 Chunk = 1 ä¸» Asset
- ç”¨æ–‡ä»¶åæ›´ç›´è§‚ï¼ˆç”¨æˆ·çœ‹åˆ°çš„å°±æ˜¯ dist ç›®å½•çš„æ–‡ä»¶ï¼‰

**ä½†æ˜¯**ï¼Œè¿™æ ·åšæœ‰ä¸ªé—®é¢˜ï¼š
- å¦‚æœ 1 ä¸ª Chunk ç”Ÿæˆå¤šä¸ª Assetsï¼Œä¼šæœ‰æ­§ä¹‰

---

## æœ€ç»ˆå»ºè®®

### âœ… æ¨èæ–¹æ¡ˆï¼šChunks ä½œä¸ºç¬¬ä¸€çº§

**åŸå› **ï¼š
1. Assets å’Œ Chunks é€šå¸¸ä¸€ä¸€å¯¹åº”ï¼ŒAssets å±‚æ˜¯å†—ä½™çš„
2. Chunk åŒ…å«æ›´å®Œæ•´çš„ä¿¡æ¯ï¼ˆentry/async/parents/childrenï¼‰
3. é¿å…ä¸€å¯¹å¤šæ—¶çš„é‡å¤æ˜¾ç¤º
4. æ›´å¿«åˆ°è¾¾æ ¸å¿ƒä¿¡æ¯ï¼ˆModulesï¼‰

**å¦‚ä½•å±•ç¤º Assets**ï¼š
- åœ¨ Chunk å¡ç‰‡ä¸­æ˜¾ç¤ºå…³è”çš„è¾“å‡ºæ–‡ä»¶
- æä¾›ç‹¬ç«‹çš„ Assets æ ‡ç­¾é¡µä½œä¸ºè¾…åŠ©è§†å›¾
- æ”¯æŒé€šè¿‡ Asset åç§°æœç´¢è·³è½¬åˆ°å¯¹åº” Chunk

### æ•°æ®ç»“æ„

```typescript
interface ChunkListView {
  chunks: ChunkCard[];
}

interface ChunkCard {
  id: string;
  names: string[];
  size: number;
  // å…³è”çš„è¾“å‡ºæ–‡ä»¶ï¼ˆæ˜¾ç¤ºåœ¨å¡ç‰‡ä¸Šï¼‰
  outputFiles: {
    name: string;
    size: number;
    type: 'JavaScript' | 'CSS' | 'SourceMap' | 'Other';
  }[];
  // å…ƒä¿¡æ¯
  entry: boolean;
  initial: boolean;
  async: boolean;
  // æ¨¡å—ä¿¡æ¯ï¼ˆç‚¹å‡»å±•å¼€ååŠ è½½ï¼‰
  moduleCount: number;
}
```

### æ€»ç»“

**Assets ä¸éœ€è¦ä½œä¸ºç¬¬ä¸€çº§**ï¼ŒåŸå› ï¼š

1. âŒ å¤§å¤šæ•°æƒ…å†µä¸‹ä¸ Chunk ä¸€ä¸€å¯¹åº”ï¼Œå†—ä½™
2. âŒ ä¸€å¯¹å¤šæ—¶ä¼šé‡å¤æ˜¾ç¤ºä¿¡æ¯
3. âŒ å¢åŠ äº†ä¸€å±‚ä¸å¿…è¦çš„åµŒå¥—

**æ›´å¥½çš„æ–¹æ¡ˆ**ï¼š
- âœ… Chunks ä½œä¸ºç¬¬ä¸€çº§
- âœ… åœ¨ Chunk èŠ‚ç‚¹ä¸­æ˜¾ç¤ºå…³è”çš„ Assets
- âœ… æä¾›ç‹¬ç«‹çš„ Assets æ ‡ç­¾é¡µç”¨äºæ–‡ä»¶æŸ¥çœ‹
- âœ… æ”¯æŒæŒ‰ Asset åç§°æœç´¢/è¿‡æ»¤

è¿™æ ·æ—¢ä¿ç•™äº† Assets ä¿¡æ¯çš„å¯è§æ€§ï¼Œåˆé¿å…äº†å†—ä½™å’Œå¤æ‚æ€§ï¼ğŸ¯
