if (module.hot) {
  module.hot.accept(
    "<%=module_path %>",
    function() {
      <% if es_module { %>
        update(content);
      <% } else { %>
        content = require(<%=module_path %>);
        content = content.__esModule ? content.default : content;
        update(content);
      <% } %>
    }
  );
  module.hot.dispose(function() {
    update();
  });
}

<% if es_module { %>
  import { API } from "!virtualModules:injectStylesIntoLinkTag.js";
<% } else { %>
  var API = require("!virtualModules:injectStylesIntoLinkTag.js");
<% } %>
  
function getImportLinkAPICode(esModule, loaderContext) {
  const modulePath = stringifyRequest(
    loaderContext,
    `!${path.join(__dirname, "runtime/injectStylesIntoLinkTag.js")}`,
  );

  return esModule
    ? `import API from ${modulePath};`
    : `var API = require(${modulePath});`;
}